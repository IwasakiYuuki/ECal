sup03.txt
s15023 岩崎悠紀

1．課題
実際に動作させ，考察しなさい。また調べたことも書きなさい。
count1,count2,count3の様子やLEDの様子。

 以下の内容を，考察に含むこと。
count1，count2，count3はどこに割り当てられたのか述べなさい。
 根拠を示しながら説明しなさい。

count1の値が予想外な変化をした理由を述べなさい。

2．使用したプログラム
/**********************************************************
msecwait関数で0.25秒ごとのLEDのON-OFFを行う
**********************************************************/
#include <3048fone.h>
#include "h8_3048fone.h"

void msecwait(int msec)
{
	int i,j;
	for (i=0;i<msec;i++) {
		for (j=0;j<3352;j++);    /*3352は実測によって求めた値 20MHz駆動*/
	}
}

int count1=1000;
int count2;

main()
{
	int count3=3000;
	count2=2000;
	initSCI1(); /*シリアル通信ユニットSCI1の初期化*/
	initLed();  /*LED初期化*/
	while(1) {
		SCI1_printf("%5d %5d %5d\n",count1++,count2++,count3++);
		turnOnLed(0); /*LED0のON*/
		turnOffLed(1); /*LED1のOFF*/
		msecwait(250);
		turnOffLed(0); /*LED0のOFF*/
		turnOnLed(1); /*LED1のON*/
		msecwait(250);
	}
}

3．実行結果
   -2  2000  3000
   -1  2001  3001
    0  2002  3002
    1  2003  3003
    2  2004  3004
    3  2005  3005
    4  2006  3006
    5  2007  3007
    6  2008  3008
    7  2009  3009
    8  2010  3010
    9  2011  3011
   10  2012  3012

4．考察
　ex2.mapファイルを見ると，count1,count2はRAM領域にあるが，ex2.srcをみると，count3はレジスタに格納されている．
　また，実験結果としては，count1が1000からはじまっていないのは，RAM領域に入れており，電源を落とすとリセットされてしまうからである．

5．まとめ
　今回の実験で，RAM領域にデータをプログラムで書き込んでも電源を落とすときに消えてしまうということが理解できた．
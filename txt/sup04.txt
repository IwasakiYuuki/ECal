sup04.txt
s15023 岩崎悠紀

1．課題
実際に動作させ，考察しなさい。
 「_count1，_count2の２つの変数がRAM領域にあるのがわかる。」の根拠を示しなさい。
また調べたことも書きなさい。

count1が正常に表示されるからくりについて，説明しなさい。

2．使用したプログラム
/**********************************************************
msecwait関数で0.25秒ごとのLEDのON-OFFを行う
**********************************************************/
#include <3048fone.h>
#include "h8_3048fone.h"

void msecwait(int msec)
{
	int i,j;
	for (i=0;i<msec;i++) {
		for (j=0;j<3352;j++);    /*3352は実測によって求めた値 20MHz駆動*/
	}
}

int count1=1000;
int count2;

main()
{
	int count3=3000;
	count2=2000;
	initSCI1(); /*シリアル通信ユニットSCI1の初期化*/
	initLed();  /*LED初期化*/
	while(1) {
		SCI1_printf("%5d %5d %5d\n",count1++,count2++,count3++);
		turnOnLed(0); /*LED0のON*/
		turnOffLed(1); /*LED1のOFF*/
		msecwait(250);
		turnOffLed(0); /*LED0のOFF*/
		turnOnLed(1); /*LED1のON*/
		msecwait(250);
	}
}

3．実行結果
 1000  2000  3000
 1001  2001  3001
 1002  2002  3002
 1003  2003  3003
 1004  2004  3004
 1005  2005  3005
 1006  2006  3006
 1007  2007  3007
 1008  2008  3008
 1009  2009  3009
 1010  2010  3010
 1011  2011  3011
 1012  2012  3012
 1013  2013  3013
 1014  2014  3014
 1015  2015  3015

4．考察
　実行結果はcount1が1000から始まっていたので，正しく動作していると判断した．また，LEDも約0.25秒ごとに点滅していたので，LEDのほうも正しく動作していると考えた．
　count1とcount2はMAPファイルを見るとRAM領域にあった．
　しかし，初期値をROM領域に入れ，そこからRAM領域の初期化を毎回行っているので，実質的にRAM領域に初期値を入れることができたかのようになった．

5．まとめ
　今回の実験により，物理的にはRAM領域にメモリを確保し，しかし，あたかもROM領域にメモリを確保しているかのような動作をさせることができるということを学んだ．